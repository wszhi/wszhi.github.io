<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Shengzhi Wang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="靡不有初,鲜克有终">
<meta property="og:type" content="website">
<meta property="og:title" content="Shengzhi Wang">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shengzhi Wang">
<meta property="og:description" content="靡不有初,鲜克有终">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shengzhi Wang">
<meta name="twitter:description" content="靡不有初,鲜克有终">
  
    <link rel="alternative" href="/atom.xml" title="Shengzhi Wang" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://store.aimon.cn/Product/photo/348/2012101905747.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Shengzhi Wang</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/technical/">技术</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/wszhi" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Shengzhi Wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://store.aimon.cn/Product/photo/348/2012101905747.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Shengzhi Wang</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/tags/technical/">技术</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/wszhi" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-Continuous-Integration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/25/Continuous-Integration/">持续集成(Continuous Integration)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在工作之前,曾经遇到过这么一个问题,和多个小伙伴一起开发,一个人负责了一大块的功能,最后在每个人完成各自的开发工作以后,集成成一个系统。<br>这真的是很痛苦的一件事情,没有任何的铺垫,一堆冲突,集成后也不知道系统是不是存在bug。<br>然而在真正工作以后,才发现了这些问题的正确打开方式。</p>
<h2 id="持续集成是什么"><a href="#持续集成是什么" class="headerlink" title="持续集成是什么"></a>持续集成是什么</h2><p>Martin Fowler对持续集成(Continuous Integration)的定义:</p>
<blockquote>
<p>Continuous Integration is a software development practice where members of a team integrate their work frequently, usually each person integrates at least daily - leading to multiple integrations per day. Each integration is verified by an automated build (including test) to detect integration errors as quickly as possible.Many teams find that this approach leads to significantly reduced integration problems and allows a team to develop cohesive software more rapidly.  </p>
</blockquote>
<p>持续集成是一种软件开发实践，即团队开发成员经常集成他们的工作，通常每个成员每天至少集成一次，也就意味着每天可能会发生多次集成。每次集成都通过自动化的构建（包括编译，发布，自动化测试)来验证，从而尽快地发现集成错误。许多团队发现这个过程可以大大减少集成的问题，让团队能够更快的开发内聚的软件。</p>
<p>Martin Fowler对持续集成的内容概述:</p>
<blockquote>
<p>Maintain a Single Source Repository.<br>  Automate the Build<br>  Make Your Build Self-Testing<br>  Everyone Commits To the Mainline Every Day<br>  Every Commit Should Build the Mainline on an Integration Machine<br>  Fix Broken Builds Immediately<br>  Keep the Build Fast<br>  Test in a Clone of the Production Environment<br>  Make it Easy for Anyone to Get the Latest Executable<br>  Everyone can see what’s happening<br>  Automate Deployment</p>
</blockquote>
<p>  1.统一的代码库。一个团队在开发过程中都需要一个代码库,每个人写的代码都更新到同一个代码库上。例如Github,Gitlab等,如此一来就需要版本管理工具例如git,svn等等。<br>  2.自动构建。手动构建的代价太大,使用工具来自动构建。<br>  3.自动测试。<br>  4.每个人每天都要向代码库主干提交代码。<br>  5.每次代码递交后都会在持续集成服务器上触发一次构建。<br>  6.保证快速构建。<br>  7.模拟生产环境的自动测试。<br>  8.每个人都可以很容易的获取最新可执行的应用程序。<br>  9.每个人都清楚正在发生的状况。<br>  10.自动化的部署。</p>
<h2 id="持续集成的好处"><a href="#持续集成的好处" class="headerlink" title="持续集成的好处"></a>持续集成的好处</h2><p>由上可知,持续集成的好处在于:<br>    (1)快速发现错误。每个coder完成了一小段代码就更新集成到主干,如此一来可以快速的发现错误,并且定位错误,改正错误。<br>    (2)使得代码不会大幅度的偏离主干。如果不经常集成代码,更新不快,最后集成的难度非常大。<br>    (3)在任何时间、任何地点生成可部署的软件。对于客户来说,这便于持续交付。<br>    (4)改善对进度的控制。每天都在集成，就可以看到当前各个功能的进度。<br>    (5)更加充分地测试系统中的各个单元。<br>    (6)与其它工具结合的持续代码质量改进。如使用CheckStyle, PMD, FindBugs, Fxcop等。<br>    (7)便于Code Review。在每个build里，我们都可以知道与前一个build之间有什么改动，然后针对这些改动，我们就可以实施Code Review了。<br>    (8)便于开发流程的管理。比如说，要把一个开发的build提交给测试组作测试，测完满意了，再提交到发布组去发布。</p>
<p> 持续集成的目的，就是让产品可以保持高质量的快速迭代。</p>
<h2 id="持续集成的工具"><a href="#持续集成的工具" class="headerlink" title="持续集成的工具"></a>持续集成的工具</h2><p>CI工具实现了每个开发人员提交代码的时候自动进行构建，包括代码审查、编译、测试、打包等操作。如此可以保证每次提交都是安全的。<br>CI工具还可以提供事件通知,生成报告等。例如当某一步构建失败了发送通知给指定的email、通过特定的设置发出声音等。<br>常见的工具有:<br><a href="https://jenkins.io/index.html" target="_blank" rel="external">Jenkins</a><br><a href="https://www.go.cd/" target="_blank" rel="external">Go</a><br><a href="http://buildbot.net/" target="_blank" rel="external">Buildbot</a></p>
<h2 id="持续集成的规则："><a href="#持续集成的规则：" class="headerlink" title="持续集成的规则："></a>持续集成的规则：</h2><p>  总结规则如下:<br>1）经常提交代码<br>2）不要提交无法构建的代码<br>3）构建失败时，立即修复<br>4）写自动化测试<br>5）必须通过所有测试和代码审查<br>6）执行私有构建<br>7）避免迁出无法构建的代码</p>
<p>遵循以上规则是为了提高CI持续集成成功率，及时修复build</p>
<p>参考文献:<br><a href="http://martinfowler.com/articles/continuousIntegration.html" target="_blank" rel="external">Martin Fowler的Continuous Integration</a><br><a href="http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="external">持续集成是什么？</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/25/Continuous-Integration/" class="archive-article-date">
  	<time datetime="2016-10-25T03:33:21.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-25</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CI/">CI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Docker-Learn2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/13/Docker-Learn2/">Docker Learn2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>自学笔记(二)<br>待更新……</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/13/Docker-Learn2/" class="archive-article-date">
  	<time datetime="2016-10-13T06:53:22.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-13</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/">Docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Docker-Learn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/11/Docker-Learn/">Docker 学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>自学笔记(一)<br>因为接下来的项目需求,所以需要好好学习一下怎么使用Docker。<br>因为之前没有怎么接触过,所以是从零开始。</p>
<h1 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h1><p><a href="https://docs.docker.com/docker-for-mac/" target="_blank" rel="external">Mac 安装地址</a><br>关于在Ubuntu、CentOS和Debian系统安装Docker,<a href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" rel="external">Docker —— 从入门到实践</a>书里有安装教程<br>其他系统安装Docker,参考<a href="https://docs.docker.com/engine/installation/" target="_blank" rel="external">官网</a></p>
<h1 id="Docker-三大组件"><a href="#Docker-三大组件" class="headerlink" title="Docker 三大组件"></a>Docker 三大组件</h1><p>仓库<br>镜像<br>容器</p>
<h1 id="仓库"><a href="#仓库" class="headerlink" title="仓库"></a>仓库</h1><p>Docker 官方维护了一个公共仓库<a href="https://hub.docker.com/" target="_blank" rel="external">Docker Hub</a></p>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p>本地命令:docker login<br>会有提示输入用户名和密码,一次登录后,会记住登录信息。本地用户目录的 .dockercfg 中将保存用户的认证信息。</p>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><p>命令为docker search 命令来查找官方仓库中的镜像，并利用docker pull 命令来将它下载到本地。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker search centos -s 3</div></pre></td></tr></table></figure></p>
<p>-s N(仅显示评价为 N 星以上的镜像)<br>下载命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker pull centos</div></pre></td></tr></table></figure></p>
<h2 id="私有仓库配置"><a href="#私有仓库配置" class="headerlink" title="私有仓库配置"></a>私有仓库配置</h2><p>参考书籍<a href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" rel="external">Docker —— 从入门到实践</a></p>
<h1 id="Docker-镜像"><a href="#Docker-镜像" class="headerlink" title="Docker 镜像"></a>Docker 镜像</h1><h2 id="Docker-镜像分层"><a href="#Docker-镜像分层" class="headerlink" title="Docker 镜像分层"></a>Docker 镜像分层</h2><p>有3层,分别为:<br>  基础镜像<br>  中间件镜像<br>  应用镜像</p>
<h2 id="获取镜像"><a href="#获取镜像" class="headerlink" title="获取镜像"></a>获取镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker pull 镜像版本</div></pre></td></tr></table></figure>
<p>将从 Docker Hub 仓库下载一个符合要求的镜像<br>完整的命令为:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker pull registry.hub.docker.com/ubuntu:12.04</div></pre></td></tr></table></figure></p>
<p>即从注册服务器registry.hub.docker.com 中的 ubuntu 仓库来下载标记为 12.04 的镜像。</p>
<h2 id="镜像操作"><a href="#镜像操作" class="headerlink" title="镜像操作"></a>镜像操作</h2><p>下载镜像完成后，可以使用该镜像了，摘自书中的例子:创建一个容器，让其中运行 bash 应用。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker run -t -i ubuntu:12.04 /bin/bash</div></pre></td></tr></table></figure></p>
<h4 id="显示本地已有的镜像"><a href="#显示本地已有的镜像" class="headerlink" title="显示本地已有的镜像"></a>显示本地已有的镜像</h4><p>命令:docker images </p>
<h4 id="修改镜像"><a href="#修改镜像" class="headerlink" title="修改镜像:"></a>修改镜像:</h4><p><strong>1.docker commit 来扩展一个镜像</strong><br>镜像启动容器:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker run -t -i ubuntu:12.04 /bin/bash</div></pre></td></tr></table></figure></p>
<p> -t 选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上， -i 则让容器的标准输入保持打开</p>
<p>在容器中添加json package:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">root@0b2616b0e5a8:/# gem install json</div></pre></td></tr></table></figure></p>
<p>退出: exit<br>提交更新后的副本:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo docker commit -m &quot;Added json gem&quot; -a &quot;Docker Newbee&quot; 0b2616b0e5a8 ouruser/sinatra:v2</div></pre></td></tr></table></figure></p>
<p>ouruser/sinatra:v2为目标镜像的仓库名和 tag 信息,如v2<br></p>
<p><strong>2.docker build 来创建一个新的镜像</strong><br>新建一个文件Dockerfile,里面的每一条指令都创建镜像的一层。<br></p>
<p>Dockerfile 基本的语法是:<br>    使用 # 来注释<br>    FROM 指令告诉 Docker 使用哪个镜像作为基础<br>    接着是维护者的信息<br>    RUN 开头的指令会在创建中运行，比如安装一个软件包，在这里使用 apt-get来安装了一些软件<br></p>
<p>编写完成 Dockerfile 后可以使用 docker build 来生成镜像。例如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker build -t=&quot;ouruser/sinatra:v2&quot; .</div></pre></td></tr></table></figure></p>
<p>其中 -t 标记来添加 tag，指定新的镜像的用户信息。 “.” 是 Dockerfile 所在的路径（当前目录），也可以替换为一个具体的 Dockerfile 的路径。</p>
<p>改变镜像标签内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker tag 5db5f8471261 ouruser/sinatra:devel #5db...是镜像ID  后面的是修改后的标签</div></pre></td></tr></table></figure></p>
<h4 id="本地导入镜像"><a href="#本地导入镜像" class="headerlink" title="本地导入镜像:"></a>本地导入镜像:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo cat ubuntu-14.04-x86_64-minimal.tar.gz |docker import - ubuntu:14.04</div></pre></td></tr></table></figure>
<h4 id="镜像上传到远程仓库"><a href="#镜像上传到远程仓库" class="headerlink" title="镜像上传到远程仓库:"></a>镜像上传到远程仓库:</h4><p>Docker Hub 上完成注册后，可以推送自己的镜像到仓库中<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker push ouruser/sinatra</div></pre></td></tr></table></figure></p>
<h4 id="保存镜像到本地文件"><a href="#保存镜像到本地文件" class="headerlink" title="保存镜像到本地文件:"></a>保存镜像到本地文件:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker save -o ubuntu_14.04.tar ubuntu:14.04</div></pre></td></tr></table></figure>
<h4 id="从导出的本地文件中再加载到本地镜像库"><a href="#从导出的本地文件中再加载到本地镜像库" class="headerlink" title="从导出的本地文件中再加载到本地镜像库:"></a>从导出的本地文件中再加载到本地镜像库:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo docker load --input ubuntu_14.04.tar</div><div class="line">或</div><div class="line">$ sudo docker load &lt; ubuntu_14.04.tar</div></pre></td></tr></table></figure>
<h4 id="移除镜像"><a href="#移除镜像" class="headerlink" title="移除镜像"></a>移除镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker rmi training/sinatra</div></pre></td></tr></table></figure>
<p>在删除镜像之前要先用 docker rm 删掉依赖于这个镜像的所有容器。</p>
<p>清理所有未打过标签的本地镜像<br>$ sudo docker rmi $(docker images -q -f “dangling=true”)<br>sudo docker rmi $(docker images –quiet –filter “dangling=true”)</p>
<h1 id="Docker-容器"><a href="#Docker-容器" class="headerlink" title="Docker 容器"></a>Docker 容器</h1><p>容器是独立运行的一个或一组应用，以及它们的运行态环境。</p>
<h2 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h2><p>有两种方式:<br>1.基于镜像新建一个容器并启动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker run -t -i ubuntu:12.04 /bin/bash</div></pre></td></tr></table></figure></p>
<p>使用docker run 来创建容器时，Docker 在后台运行的标准操作包括：</p>
<ul>
<li>检查本地是否存在指定的镜像，不存在就从公有仓库下载</li>
<li>利用镜像创建并启动一个容器</li>
<li>分配一个文件系统，并在只读的镜像层外面挂载一层可读写层</li>
<li>从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中去</li>
<li>从地址池配置一个 ip 地址给容器</li>
<li>执行用户指定的应用程序</li>
<li>执行完毕后容器被终止</li>
</ul>
<p>2.将在终止状态（stopped）的容器重新启动<br>docker start命令，直接将一个已经终止的容器启动运行。可以利用 ps 或 top 来查看当前的进程信息。</p>
<h2 id="查看容器信息"><a href="#查看容器信息" class="headerlink" title="查看容器信息"></a>查看容器信息</h2><p>命令:docker ps<br>可以查看所有的容器及进程</p>
<h2 id="容器在后台运行"><a href="#容器在后台运行" class="headerlink" title="容器在后台运行"></a>容器在后台运行</h2><p>普通的docker run命令会在当前宿主机输出结果。<br>加上-d,此时容器会在后台运行并不会把输出的结果打印到宿主机上面,而是返回一个ID。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo docker run -d ubuntu:14.04 /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</div></pre></td></tr></table></figure>
<p>查看输出结果可以用docker logs<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker logs [container ID or NAMES]</div></pre></td></tr></table></figure></p>
<p>里面可以是刚刚返回的ID也可以是NAME</p>
<h2 id="终止容器"><a href="#终止容器" class="headerlink" title="终止容器"></a>终止容器</h2><p>使用命令docker stop ID来终止</p>
<p>当Docker容器中指定的应用终结时，容器也自动终止。所以之前通过 exit 命令或 Ctrl+d 来退出终端时，所创建的容器立刻终止。<br>查看终止状态的容器可以用 docker ps -a命令。</p>
<h4 id="重启已经终止的容器"><a href="#重启已经终止的容器" class="headerlink" title="重启已经终止的容器"></a>重启已经终止的容器</h4><p>处于终止状态的容器，可以通过 docker start 命令来重新启动。<br>docker restart 命令会将一个运行态的容器终止，然后再重新启动它。</p>
<h2 id="进入容器"><a href="#进入容器" class="headerlink" title="进入容器"></a>进入容器</h2><p>当容器进入后台时,需要进入容器的操作<br>使用Attach命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">docker run -idt ubuntu <span class="comment">#后台运行</span></div><div class="line">docker ps <span class="comment">#查看进程</span></div><div class="line">docker attach 容器名或者ID</div></pre></td></tr></table></figure></p>
<p>使用nsenter 命令<br>nsenter工具在 util-linux 包2.23版本后包含,设备上没有的,需要手动安装。<br>详细步骤参考书籍<a href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" rel="external">Docker —— 从入门到实践</a></p>
<h2 id="导出容器"><a href="#导出容器" class="headerlink" title="导出容器"></a>导出容器</h2><p>导出本地某个容器，使用 docker export 命令:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker export 容器ID &gt; ubuntu.tar(文件名)</div></pre></td></tr></table></figure></p>
<h2 id="导入容器"><a href="#导入容器" class="headerlink" title="导入容器"></a>导入容器</h2><p>使用docker import从容器快照文件中再导入为镜像:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ cat ubuntu.tar | docker import - <span class="built_in">test</span>/ubuntu:v1.0(镜像名和标签)</div><div class="line">$ docker images <span class="comment">#查看结果</span></div></pre></td></tr></table></figure></p>
<p>或者通过指定 URL 或者某个目录来导入，例如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$sudo docker import http://example.com/exampleimage.tgz example/imagerepo</div></pre></td></tr></table></figure></p>
<p><strong>用户既可以使用 docker load 来导入镜像存储文件到本地镜像库，<br>也可以使用 docker import 来导入一个容器快照到本地镜像库。<br>这两者的区别在于容器快照文件将丢弃所有的历史记录和元数据信息（即仅保存容器当时的快照状态），而镜像存储文件将保存完整记录，体积也要大。<br>此外，从容器快照文件导入时可以重新指定标签等元数据信息。</strong></p>
<h2 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h2><p>使用 docker rm 来删除一个处于终止状态的容器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$sudo docker rm trusting_newton</div></pre></td></tr></table></figure></p>
<p>如果要删除一个运行中的容器，可以添加 -f 参数。<br>清理所有处于终止状态的容器,使用以下命令:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker rm $(docker ps -a -q)</div></pre></td></tr></table></figure></p>
<p>书籍:<br><a href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" rel="external">Docker —— 从入门到实践</a>此处有电子书的下载途径</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/11/Docker-Learn/" class="archive-article-date">
  	<time datetime="2016-10-11T08:25:20.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-11</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/">Docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-markdown" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/09/markdown/">使用Markdown编辑器写博客</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本博客非原创,,转自CSDN官方编辑器提示,用来帮组小伙伴使用markdown写博客</p>
<p>正文如下:</p>
<p>本Markdown编辑器使用<a href="https://github.com/benweet/stackedit" target="_blank" rel="external">StackEdit</a>修改而来，用它写博客，将会带来全新的体验哦：</p>
<ul>
<li><strong>Markdown和扩展Markdown简洁的语法</strong></li>
<li><strong>代码块高亮</strong></li>
<li><strong>图片链接和图片上传</strong></li>
<li><strong><em>LaTex</em>数学公式</strong></li>
<li><strong>UML序列图和流程图</strong></li>
<li><strong>离线写博客</strong></li>
<li><strong>导入导出Markdown文件</strong></li>
<li><strong>丰富的快捷键</strong></li>
</ul>
<hr>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>加粗    <code>Ctrl + B</code></li>
<li>斜体    <code>Ctrl + I</code></li>
<li>引用    <code>Ctrl + Q</code></li>
<li>插入链接    <code>Ctrl + L</code></li>
<li>插入代码    <code>Ctrl + K</code></li>
<li>插入图片    <code>Ctrl + G</code></li>
<li>提升标题    <code>Ctrl + H</code></li>
<li>有序列表    <code>Ctrl + O</code></li>
<li>无序列表    <code>Ctrl + U</code></li>
<li>横线    <code>Ctrl + R</code></li>
<li>撤销    <code>Ctrl + Z</code></li>
<li>重做    <code>Ctrl + Y</code></li>
</ul>
<h2 id="Markdown及扩展"><a href="#Markdown及扩展" class="headerlink" title="Markdown及扩展"></a>Markdown及扩展</h2><blockquote>
<p>Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档，然后转换成格式丰富的HTML页面。    —— <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank"> [ 维基百科 ]</a></p>
</blockquote>
<p>使用简单的符号标识不同的标题，将某些文字标记为<strong>粗体</strong>或者<em>斜体</em>，创建一个<a href="http://www.csdn.net" target="_blank" rel="external">链接</a>等，详细语法参考帮助？。</p>
<p>本编辑器支持 <strong>Markdown Extra</strong> , 　扩展了很多好用的功能。具体请参考<a href="https://github.com/jmcmanus/pagedown-extra" title="Pagedown Extra" target="_blank" rel="external">Github</a>.</p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p><strong>Markdown　Extra</strong>　表格语法：</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>价格</th>
</tr>
</thead>
<tbody>
<tr>
<td>Computer</td>
<td>$1600</td>
</tr>
<tr>
<td>Phone</td>
<td>$12</td>
</tr>
<tr>
<td>Pipe</td>
<td>$1</td>
</tr>
</tbody>
</table>
<p>可以使用冒号来定义对齐方式：</p>
<table>
<thead>
<tr>
<th style="text-align:left">项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Computer</td>
<td style="text-align:right">1600 元</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:left">Phone</td>
<td style="text-align:right">12 元</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td style="text-align:left">Pipe</td>
<td style="text-align:right">1 元</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
<h3 id="定义列表"><a href="#定义列表" class="headerlink" title="定义列表"></a>定义列表</h3><p><strong>Markdown　Extra</strong>　定义列表语法：<br>项目１<br>项目２<br>:   定义 A<br>:   定义 B</p>
<p>项目３<br>:   定义 C</p>
<p>:   定义 D</p>
<pre><code>&gt; 定义D内容
</code></pre><h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p>代码块语法遵循标准markdown代码，例如：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@requires_authorization</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">somefunc</span><span class="params">(param1=<span class="string">''</span>, param2=<span class="number">0</span>)</span>:</span></div><div class="line">    <span class="string">'''A docstring'''</span></div><div class="line">    <span class="keyword">if</span> param1 &gt; param2: <span class="comment"># interesting</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'Greater'</span></div><div class="line">    <span class="keyword">return</span> (param2 - param1 + <span class="number">1</span>) <span class="keyword">or</span> <span class="keyword">None</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>:</span></div><div class="line">    <span class="keyword">pass</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>message = <span class="string">'''interpreter</span></div><div class="line"><span class="meta">... </span>prompt'''</div></pre></td></tr></table></figure></p>
<h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>生成一个脚注[^footnote].<br>  [^footnote]: 这里是 <strong>脚注</strong> 的 <em>内容</em>.</p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>用 <code>[TOC]</code>来生成目录：</p>
<p>[TOC]</p>
<h3 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h3><p>使用MathJax渲染<em>LaTex</em> 数学公式，详见<a href="http://math.stackexchange.com/" target="_blank" rel="external">math.stackexchange.com</a>.</p>
<ul>
<li>行内公式，数学公式为：$\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$。</li>
<li>块级公式：</li>
</ul>
<p>$$    x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$</p>
<p>更多LaTex语法请参考 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="external">这儿</a>.</p>
<h3 id="UML-图"><a href="#UML-图" class="headerlink" title="UML 图:"></a>UML 图:</h3><p>可以渲染序列图：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">张三-&gt;李四: 嘿，小四儿, 写博客了没?</div><div class="line">Note right of 李四: 李四愣了一下，说：</div><div class="line">李四--&gt;张三: 忙得吐血，哪有时间写。</div></pre></td></tr></table></figure>
<p>或者流程图：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">st=&gt;start: 开始</div><div class="line">e=&gt;end: 结束</div><div class="line">op=&gt;operation: 我的操作</div><div class="line">cond=&gt;condition: 确认？</div><div class="line"></div><div class="line">st-&gt;op-&gt;cond</div><div class="line">cond(yes)-&gt;e</div><div class="line">cond(no)-&gt;op</div></pre></td></tr></table></figure>
<ul>
<li>关于 <strong>序列图</strong> 语法，参考 <a href="http://bramp.github.io/js-sequence-diagrams/" target="_blank" rel="external">这儿</a>,</li>
<li>关于 <strong>流程图</strong> 语法，参考 <a href="http://adrai.github.io/flowchart.js/" target="_blank" rel="external">这儿</a>.</li>
</ul>
<h2 id="离线写博客"><a href="#离线写博客" class="headerlink" title="离线写博客"></a>离线写博客</h2><p>即使用户在没有网络的情况下，也可以通过本编辑器离线写博客（直接在曾经使用过的浏览器中输入<a href="http://write.blog.csdn.net/mdeditor" target="_blank" rel="external">write.blog.csdn.net/mdeditor</a>即可。<strong>Markdown编辑器</strong>使用浏览器离线存储将内容保存在本地。</p>
<p>用户写博客的过程中，内容实时保存在浏览器缓存中，在用户关闭浏览器或者其它异常情况下，内容不会丢失。用户再次打开浏览器时，会显示上次用户正在编辑的没有发表的内容。</p>
<p>博客发表后，本地缓存将被删除。　</p>
<p>用户可以选择 <i class="icon-disk"></i> 把正在写的博客保存到服务器草稿箱，即使换浏览器或者清除缓存，内容也不会丢失。</p>
<blockquote>
<p><strong>注意：</strong>虽然浏览器存储大部分时候都比较可靠，但为了您的数据安全，在联网后，<strong>请务必及时发表或者保存到服务器草稿箱</strong>。</p>
</blockquote>
<h2 id="浏览器兼容"><a href="#浏览器兼容" class="headerlink" title="浏览器兼容"></a>浏览器兼容</h2><ol>
<li>目前，本编辑器对Chrome浏览器支持最为完整。建议大家使用较新版本的Chrome。</li>
<li>IE９以下不支持</li>
<li>IE９，１０，１１存在以下问题<ol>
<li>不支持离线功能</li>
<li>IE9不支持文件导入导出</li>
<li>IE10不支持拖拽文件导入</li>
</ol>
</li>
</ol>
<hr>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/09/markdown/" class="archive-article-date">
  	<time datetime="2016-10-09T01:33:08.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-09</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Angular-Filter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/08/Angular-Filter/">Angular Order And Filter</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><p>angular 排序可以使用orderBy标签,它支持一个排序函数或简单地指定一个属性名进行排序</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># HTML5</span></div><div class="line">&lt;div ng-controller=<span class="string">"TestCtrl"</span>&gt;</div><div class="line">    根据age正排序</div><div class="line">    &#123;&#123; data | orderBy: <span class="string">'age'</span> &#125;&#125; &lt;br/&gt;</div><div class="line">    根据age倒排序</div><div class="line">    &#123;&#123; data | orderBy: <span class="string">'-age'</span> &#125;&#125; &lt;br/&gt;</div><div class="line">    根据age正排序,取前2个</div><div class="line">    &#123;&#123; data | orderBy: <span class="string">'-age'</span> | <span class="built_in">limit</span>To: 2 &#125;&#125; &lt;br/&gt;</div><div class="line">    根据age倒排序,name正排序</div><div class="line">    &#123;&#123; data | orderBy: [<span class="string">'-age'</span>, <span class="string">'name'</span>] &#125;&#125; &lt;br/&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line"><span class="comment"># JS 给data的值</span></div><div class="line"><span class="variable">$scope</span>.data = [&#123;name: <span class="string">'B'</span>, age: 4&#125;,&#123;name: <span class="string">'A'</span>, age: 1&#125;,&#123;name: <span class="string">'D'</span>, age: 3&#125;,&#123;name: <span class="string">'C'</span>, age: 3&#125;];</div></pre></td></tr></table></figure>
<p>{ {orderBy_expression | orderBy : expression : reverse : comparator} }<br>orderBy_expression:数组<br>expression:一个String或者是一个function,用来比较的基准<br>reverse:反转<br>comparator:比较器</p>
<p>可以使用ng-repeat遍历,以表格形式显示<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;tr ng-repeat=<span class="string">"friend in friends | orderBy:['-age', 'name']"</span>&gt;</div><div class="line">    &lt;td&gt;&#123;&#123;friend.name&#125;&#125;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&#123;&#123;friend.phone&#125;&#125;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&#123;&#123;friend.age&#125;&#125;&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div></pre></td></tr></table></figure></p>
<p>JS里用order<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># JS</span></div><div class="line">angular.module(<span class="string">'orderByExample'</span>, [])</div><div class="line">            .controller(<span class="string">'ExampleController'</span>, [<span class="string">'$scope'</span>,<span class="string">'orderByFilter'</span>, <span class="keyword">function</span>(<span class="variable">$scope</span>, orderBy)  &#123;</div><div class="line">            var friends = [</div><div class="line">                                &#123;name: <span class="string">'John'</span>,   phone: <span class="string">'555-1212'</span>,  age: 10&#125;,</div><div class="line">                                &#123;name: <span class="string">'Mary'</span>,   phone: <span class="string">'555-9876'</span>,  age: 19&#125;,</div><div class="line">                                &#123;name: <span class="string">'Mike'</span>,   phone: <span class="string">'555-4321'</span>,  age: 21&#125;,</div><div class="line">                                &#123;name: <span class="string">'Adam'</span>,   phone: <span class="string">'555-5678'</span>,  age: 35&#125;,</div><div class="line">                                &#123;name: <span class="string">'Julie'</span>,  phone: <span class="string">'555-8765'</span>,  age: 29&#125;</div><div class="line">                            ];</div><div class="line">            <span class="variable">$scope</span>.friends = orderBy(friends, <span class="string">'age'</span>, <span class="variable">$scope</span>.reverse);</div><div class="line"></div><div class="line">            &#125;</div><div class="line"></div><div class="line"><span class="comment"># HTML5</span></div><div class="line">&lt;tr ng-repeat=<span class="string">"friend in friends"</span>&gt;</div></pre></td></tr></table></figure></p>
<p>类似自定义的比较function即comparator等<br>更多内容见<a href="https://docs.angularjs.org/api/ng/filter/orderBy" target="_blank" rel="external">Angular官方文档</a></p>
<h2 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h2><p>可以非常方便的对表格进行过滤<br>格式如下:<br>{ { filter_expression | filter : expression : comparator : anyPropertyKey} }<br>使用方法:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; friends | filter: <span class="string">'J'</span> &#125;&#125;</div></pre></td></tr></table></figure></p>
<p>即对friends数组进行过滤,找到里面包含J字样的所有值。</p>
<p>使用表格:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;label&gt;Search: &lt;input ng-model=<span class="string">"searchText"</span>&gt;&lt;/label&gt;</div><div class="line">&lt;table id=<span class="string">"searchTextResults"</span>&gt;</div><div class="line">  &lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Phone&lt;/th&gt;&lt;/tr&gt;</div><div class="line">  &lt;tr ng-repeat=<span class="string">"friend in friends | filter:searchText"</span>&gt;</div><div class="line">    &lt;td&gt;&#123;&#123;friend.name&#125;&#125;&lt;/td&gt;</div><div class="line">    &lt;td&gt;&#123;&#123;friend.phone&#125;&#125;&lt;/td&gt;</div><div class="line">  &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure></p>
<p>即根据输入框的值searchText过滤friends数组的内容,并且以表格的形式显示。</p>
<p>更多过滤条件:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;label&gt;Any: &lt;input ng-model=<span class="string">"search.$"</span>&gt;&lt;/label&gt; &lt;br&gt;</div><div class="line">&lt;label&gt;Name only &lt;input ng-model=<span class="string">"search.name"</span>&gt;&lt;/label&gt;&lt;br&gt;</div><div class="line">&lt;label&gt;Phone only &lt;input ng-model=<span class="string">"search.phone"</span>&gt;&lt;/label&gt;&lt;br&gt;</div><div class="line">&lt;label&gt;Equality &lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> ng-model=<span class="string">"strict"</span>&gt;&lt;/label&gt;&lt;br&gt;</div><div class="line">&lt;table id=<span class="string">"searchObjResults"</span>&gt;</div><div class="line">    &lt;tr&gt;</div><div class="line">        &lt;th&gt;Name&lt;/th&gt;</div><div class="line">        &lt;th&gt;Phone&lt;/th&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">    &lt;tr ng-repeat=<span class="string">"friendObj in friends | filter:search:strict"</span>&gt;</div><div class="line">        &lt;td&gt;&#123;&#123;friendObj.name&#125;&#125;&lt;/td&gt;</div><div class="line">        &lt;td&gt;&#123;&#123;friendObj.phone&#125;&#125;&lt;/td&gt;</div><div class="line">    &lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure></p>
<p>strict表示严格筛选,只有字段与搜索内容完全一致才显示。<br>search是筛选条件,这里可以全部一起筛选,或者只根据姓名或者电话进行筛选。</p>
<p>筛选条件不仅可以是字段名,还可以是自定义的函数<br>使用方法:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># HTML5</span></div><div class="line">使用函数过滤,年龄大与19的:&#123;&#123; friends | filter: f &#125;&#125; &lt;br /&gt;</div><div class="line"><span class="comment"># JS</span></div><div class="line"><span class="variable">$scope</span>.f = <span class="keyword">function</span>(e)&#123;</div><div class="line">    <span class="built_in">return</span> e.age &gt; 19;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>更多filter内容见<a href="https://docs.angularjs.org/api/ng/filter" target="_blank" rel="external">angular官方文档</a></p>
<p>例子代码:<br><a href="https://github.com/wszhi/font_end/blob/master/src/com/angular/example/8_filter.html" target="_blank" rel="external">Github简单例子</a><br><a href="https://github.com/wszhi/font_end/blob/master/src/com/angular/example/8.1_big_example_for_order_by_column.html" target="_blank" rel="external">Github OrderBy例子</a><br><a href="https://github.com/wszhi/font_end/blob/master/src/com/angular/example/8.2_big_example_for_filter.html" target="_blank" rel="external">Github filter例子</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/08/Angular-Filter/" class="archive-article-date">
  	<time datetime="2016-10-08T08:15:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-08</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular/">Angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Angular-Form-Input-Type" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/08/Angular-Form-Input-Type/">Angular Form Input Type</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Form 表单中有很多元素,最普遍的Input,CheckBox,Radio,Select等等。Angular的Form有什么特殊之处呢?</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Input的属性有:<br>    name 名字<br>    type 类型(HTML5里有的类型: number,url,email)<br>    ng-model 绑定的数据<br>    required/ng-required 是否必填<br>    ng-minlength 最小长度<br>    ng-maxlength 最大长度<br>    ng-pattern 匹配模式<br>    ng-change 值变化时的回调</p>
<p>例子(输入长度5-15的起始为abc的内容):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"a"</span> required ng-model=<span class="string">"a"</span> required ng-minlength=5 ng-maxlength=15 ng-pattern=<span class="string">"/abc/"</span>/&gt;</div></pre></td></tr></table></figure></p>
<h3 id="Checkbox"><a href="#Checkbox" class="headerlink" title="Checkbox"></a>Checkbox</h3><p>Checkbox只有两种值,选中和不选中。</p>
<p>使用方法:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># HTML5:</span></div><div class="line"></div><div class="line"> &lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> name=<span class="string">"checkbox"</span> ng-model=<span class="string">"checkbox_value"</span> ng-true-value=<span class="string">"AA"</span> ng-false-value=<span class="string">"BB"</span>/&gt;</div><div class="line"> &lt;span&gt;&#123;&#123; checkbox_value &#125;&#125;&lt;/span&gt;</div><div class="line"></div><div class="line"><span class="comment"># JS:</span></div><div class="line"> <span class="variable">$scope</span>.checkbox_value = <span class="string">'AA'</span>; <span class="comment">#controller中的初始化值会关系到控件状态（双向绑定）</span></div></pre></td></tr></table></figure></p>
<h3 id="Radio"><a href="#Radio" class="headerlink" title="Radio"></a>Radio</h3><p>与checkbox的区别,一个radio只有一个值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"radio"</span> name=<span class="string">"radio_test"</span> ng-model=<span class="string">"radio_test"</span> value=<span class="string">"AA"</span>/&gt;AA</div><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"radio"</span> name=<span class="string">"radio_test"</span> ng-model=<span class="string">"radio_test"</span> value=<span class="string">"BB"</span>/&gt;BB&lt;br&gt;</div><div class="line">radio选中的值为:&lt;span&gt;&#123;&#123; radio_test &#125;&#125;&lt;/span&gt;</div></pre></td></tr></table></figure>
<h3 id="Textarea"><a href="#Textarea" class="headerlink" title="Textarea"></a>Textarea</h3><p>与Input类似,但是可以拉伸</p>
<h3 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h3><p>使用ng-options遍历数组</p>
<p>x for x in 数组名(普通数组)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o=[0,1,2,3]; a=o[1];"</span>&gt;</div><div class="line">    &lt;select ng-model=<span class="string">"select_test"</span> ng-options=<span class="string">"x for x in o"</span> ng-change=<span class="string">"show()"</span>&gt;</div><div class="line">        &lt;option value=<span class="string">""</span>&gt;可以加这个空值&lt;/option&gt;</div><div class="line">    &lt;/select&gt;select选中的值为: &#123;&#123; select_test &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>x.name for x in 数组名(对象数组,有key,value)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o2=[&#123;name: 'AA'&#125;, &#123;name: 'BB'&#125;]; a=o2[1];"</span>&gt;</div><div class="line">    &lt;select ng-model=<span class="string">"select_test2"</span> ng-options=<span class="string">"x.name for x in o2"</span>&gt;</div><div class="line">    &lt;/select&gt;select选中的值为: &#123;&#123; select_test2 &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>x.v as x.name for x in 数组名(选择框显示的是name的值,但选中的value值是v的值)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o3=[&#123;name: 'AA', v: '00'&#125;, &#123;name: 'BB', v: '11'&#125;]; a=o3[1].v;"</span>&gt;</div><div class="line">    &lt;select ng-model=<span class="string">"select_test3"</span> ng-options=<span class="string">"x.v as x.name for x in o3"</span>&gt;</div><div class="line">    &lt;/select&gt;select选中的值为: &#123;&#123; select_test3 &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>x.name group by x.g for x in 数组名(根据g的值来分组)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o4=[&#123;name: 'AA', g: '00'&#125;,&#123;name: 'BB', g: '11'&#125;,&#123;name: 'CC', g: '00'&#125;]; select_test4=o4[1];"</span>&gt;</div><div class="line">    &lt;select ng-model=<span class="string">"select_test4"</span> ng-options=<span class="string">"x.name group by x.g for x in o4"</span>&gt;</div><div class="line">    &lt;/select&gt;select选中的值为: name值是&#123;&#123; select_test4.name &#125;&#125;;value是&#123;&#123; select_test4.g &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>x.v as x.name group by x.g for x in 数组名(分组了还分别指定显示与值的,根据g分组,v的值是value值,name值是显示的内容)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o5=[&#123;name: 'AA', g: '00', v: '='&#125;, &#123;name: 'BB', g: '11', v: '+'&#125;,&#123;name: 'CC', g: '00', v: '!'&#125;]; select_test5=o5[1].v;"</span>&gt;</div><div class="line">    &lt;select ng-model=<span class="string">"select_test5"</span> ng-options=<span class="string">"x.v as x.name group by x.g for x in o5"</span>&gt;</div><div class="line">    &lt;/select&gt;select选中的值为: &#123;&#123; select_test5 &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>v.v as v.name group by v.g for (k, v) in 对象名(o6是一个对象,对象中有两个(key:value)对,可以取对象的值来遍历)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-init=<span class="string">"o6=&#123;a: &#123;name: 'AA', v: '00', g: '=='&#125;,b: &#123;name: 'BB', v: '11', g: '=='&#125;&#125;; select_test6=o6.a.v;"</span>&gt;</div><div class="line">        参数是对象&lt;br&gt;</div><div class="line">        显示对象的值里的v的值&lt;br&gt;</div><div class="line">        &lt;select ng-model=<span class="string">"select_test6"</span> ng-options=<span class="string">"v.v as v.name group by v.g for (k, v) in o6"</span>&gt;</div><div class="line">        &lt;/select&gt;select选中的值为: &#123;&#123; select_test6 &#125;&#125;、</div><div class="line">        显示对象的名字&lt;br&gt;</div><div class="line">        &lt;select ng-model=<span class="string">"select_test7"</span> ng-options=<span class="string">"k for (k, v) in o6"</span>&gt;</div><div class="line">        &lt;/select&gt;select选中的值为: &#123;&#123; select_test7 &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>Github<a href="https://github.com/wszhi/font_end/blob/master/src/com/angular/example/7.6_form_input_checkbox_ect.html" target="_blank" rel="external">参考代码</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/08/Angular-Form-Input-Type/" class="archive-article-date">
  	<time datetime="2016-10-08T03:21:33.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-08</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular/">Angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Angular-Form" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/08/Angular-Form/">Angular Form Property And Class</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>好好学习,天天向上!</p>
<p>form 的相关方法要生效，必须为 form 标签指定 name 和 ng-controller,并且每个控件都要绑定一个变量。<br>form 和控件的名字，即是 $scope 中的相关实例的引用变量名。</p>
<h2 id="Form对象属性"><a href="#Form对象属性" class="headerlink" title="Form对象属性"></a>Form对象属性</h2><p>$pristine 表单是否未被动过<br>$dirty 表单是否被动过<br>$valid 表单是否验证通过<br>$invalid 表单是否验证失败<br>$error 表单的验证错误( key是失败信息,像required,minlength…… value是对应的字段实例列表。这里的失败信息是按序列取的一个)</p>
<p>使用方法:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form name=<span class="string">"test_form"</span> ng-controller=<span class="string">"TestCtrl"</span>&gt;</div><div class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"a"</span> required ng-model=<span class="string">"a"</span>  /&gt;</div><div class="line">    &lt;span&gt;&#123;&#123; test_form.<span class="variable">$valid</span> &#125;&#125;&lt;/span&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure></p>
<h2 id="Form标签特定的class属性"><a href="#Form标签特定的class属性" class="headerlink" title="Form标签特定的class属性"></a>Form标签特定的class属性</h2><p>除去对象的方法与属性， form 这个标签本身有一些class可以使用：<br>ng-valid 当表单验证通过时的设置<br>ng-invalid 当表单验证失败时的设置<br>ng-pristine 表单的未被动之前拥有<br>ng-dirty 表单被动过之后拥有</p>
<p>使用方法:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">input.ng-invalid &#123;</div><div class="line">    border: 1px solid red;</div><div class="line">&#125;</div><div class="line">input.ng-valid &#123;</div><div class="line">    border: 1px solid green;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>加上两种class的css,input边框在验证通过的时候是绿色,不通过则是红色。</p>
<p>Github<a href="https://github.com/wszhi/font_end/blob/master/src/com/angular/example/7.5_form_property_and_class.html" target="_blank" rel="external">参考代码</a></p>
<p><a href="https://docs.angularjs.org/api/ng/directive/form" target="_blank" rel="external">angular官方文档</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/08/Angular-Form/" class="archive-article-date">
  	<time datetime="2016-10-08T02:09:22.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-08</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular/">Angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-TWU-travel2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/03/TWU-travel2/">印度之旅(二)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>来到一个国家,不去体验当地的风土人情,就感觉就缺了点什么。所以在印度为数不多的空闲时间里,还是和小伙伴们组队去了一些地方。</p>
<h3 id="孟买的trip"><a href="#孟买的trip" class="headerlink" title="孟买的trip"></a>孟买的trip</h3><p>在我们的计划中,只有第一个周的周末是free time,所以我们就想蹭着这个机会去印度的孟买玩一圈。<br>提前两三天的时候,在和美国同事聊天时发现她们也有意愿去孟买,所以立马表明了我们的心意。理所当然的,本来由中国人组成的团队扩张到了全球化的团队。</p>
<p>说起来,在这个过程中确实体现了美国同事的快速行动力,他们联系好了车(公司的班车),也提前预约了酒店,所以对他们来说就显得比较的享受。而我们确实因为某些原因使得我们没有那么高效。<br>例如,我们并不知道国外的酒店是必须网上预约后才能Check in的,因为中国的酒店你去了有房间就可以入住;在很早的时候,我们也无法确认最后晚上入住的人员;还有天气的原因的等等。</p>
<p>但是不论我们耽搁了多久,我们还是自己解决了住宿和吃饭的问题。</p>
<p>在孟买,人人都说这是印度的旅游大城市,它靠近海边(虽然海是灰色的),也有很多小摊售卖印度特色的东西,还有遗留的英式建筑。</p>
<p>印度人好像很喜欢装饰品,路边有超级多的卖金闪闪的项链、耳环、手链、脚链……</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/03/TWU-travel2/" class="archive-article-date">
  	<time datetime="2016-10-03T06:33:02.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-03</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essays/">essays</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-TWU-travel" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/30/TWU-travel/">印度之旅(一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>难得的一个机会,让我来到了印度这个国度,在这里发生了许许多多的事,我觉得这会是一个毕生难忘的经历。</p>
<h3 id="印度的幻想"><a href="#印度的幻想" class="headerlink" title="印度的幻想"></a>印度的幻想</h3><p>关于印度,真的是不同人有不同的concern。<br>有人说:印度啊……好热的,上次新闻不是还说上50多度了吗,你去一定晒成黑炭<br>我:我读书少,你别骗我(°__°)<br>有人说:印度啊……好乱的,你还是别出门了<br>我:不出门,我去印度当宅女吗<br>有人说:印度啊……妹子很漂亮,身材棒的不要不要的<br>我:真的么(☆__☆)</p>
<p>结果,真正的印度,也只有去了,才知道真相是什么。</p>
<p>作为一个小白,再经历千辛万苦顺利上飞机,北京顺利会师,紧跟部队不放松后,终于平平安安的到达了印度。</p>
<p>一出机场,就觉得你TM的逗我呢!<br>这么凉爽的天气,说好的50多度高温呢!带了一堆夏天的”薄”衣服,要不是还有件外套,天天冻的起鸡皮<br>还有哪个跟我说遍地漂亮妹子的,还有一个一个包的如此严实,您老咋看出的身材</p>
<p>所以,到达之前,一定不要脑补太多</p>
<h3 id="印度的语言"><a href="#印度的语言" class="headerlink" title="印度的语言"></a>印度的语言</h3><p>在印度,有很多很多语言,而不是我想的英语和单一的印度语。<br>在印度,小孩子是从小学英语的,他们还有很多电视也是英文的,路边的牌子上也有英文,所以我觉得英语应该是他们的第二语言。就像中国的,每个人都会讲自己的方言和普通话一样。<br>在中国,不同地方的人的普通话都有不一样的口音在。所以,你懂的,在印度,他们的英语也带有他们独特的口音,这对我来说简直就是一个灾难,英语都还有点吃力,更不用说带着口音的英语。</p>
<p>基本上,在印度小伙伴说话的时候,我都是一脸蒙逼。<br>记得很多公司的小伙伴告诉我,要做一个诚实的孩子。To be honest……<br>是的,要诚实,懂就是懂,不懂就是不懂,所以快看一看我这个very confuse的脸(・ω・)ノ</p>
<p>感觉在印度,最有用的就是肢体语言了,表情和动作,可以提供很多信息,所以当我们对着一个印度人点菜的时候……<br>印度人:????//????(他们说的话)<br>我:Em……(说的是啥,看动作好像是欢迎,算了,还是不说话,没听懂,坐下)<br>印度人很自觉的上了菜单。<br>我:Em……(全英文菜单,宝宝看不懂,拜拜……哎!等等,咱有图,嗯~这个不错)<br>我:This(手点),One</p>
<p>最后,终于吃到饭了,至于味道如何,看运气了……</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/09/30/TWU-travel/" class="archive-article-date">
  	<time datetime="2016-09-30T08:17:35.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-09-30</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essays/">essays</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Html-5-storage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/30/Html-5-storage/">Html 5 新特性之本地存储</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在HTML5中对本地离线存储有了更好的支持,它提供了两种在客户端存储数据的新方法,即localStorage和sessionStorage</p>
<h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><p>localStorage是没有时间限制的数据存储</p>
<p>使用方式:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">local</span>Storage.pagecount) &#123;</div><div class="line">        <span class="built_in">local</span>Storage.pagecount = Number(<span class="built_in">local</span>Storage.pagecount) + 1;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">local</span>Storage.pagecount = 1;</div><div class="line">    &#125;</div><div class="line">    document.write(<span class="string">"Visits: "</span> + <span class="built_in">local</span>Storage.pagecount + <span class="string">" time(s)."</span>);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>刷新页面,数字增长。就算关闭浏览器窗口,再打开,数字还是在继续增长,而没有回到1。</p>
<p>删除存储的数据代码:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">local</span>Storage.removeItem(<span class="string">"pagecount"</span>);</div></pre></td></tr></table></figure></p>
<h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><p>sessionStorage是针对一个 session 的数据存储</p>
<p>使用方式:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">    <span class="keyword">if</span> (sessionStorage.pagecount) &#123;</div><div class="line">        sessionStorage.pagecount = Number(sessionStorage.pagecount) + 1;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        sessionStorage.pagecount = 1;</div><div class="line">    &#125;</div><div class="line">    document.write(<span class="string">"Visits "</span> + sessionStorage.pagecount + <span class="string">" time(s) this session."</span>);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>刷新页面,数字增长。当关闭浏览器窗口,再打开,数字回到初始值1。</p>
<p><a href="https://github.com/wszhi/font_end/tree/master/src/com/html5/example" target="_blank" rel="external">Github参考代码</a><br>W3C school的<a href="http://www.w3c-schools.com/html/default.asp.htm" target="_blank" rel="external">HTML5教程</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/09/30/Html-5-storage/" class="archive-article-date">
  	<time datetime="2016-09-30T07:31:54.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-09-30</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/technical/">technical</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Shengzhi Wang
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
  本站总访问量 <span id="busuanzi_value_site_pv"></span> 次, 访客数 <span id="busuanzi_value_site_uv"></span> 人次, 本文总阅读量 <span id="busuanzi_value_page_pv"></span> 次

  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</footer>

    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/"
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Angular/" style="font-size: 16.67px;">Angular</a> <a href="/tags/CI/" style="font-size: 10px;">CI</a> <a href="/tags/Docker/" style="font-size: 13.33px;">Docker</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/essays/" style="font-size: 13.33px;">essays</a> <a href="/tags/html5/" style="font-size: 13.33px;">html5</a> <a href="/tags/technical/" style="font-size: 20px;">technical</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/wszhi">我的Github</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/u012138931">我的CSDN</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">靡不有初，&lt;br&gt;&lt;br&gt;鲜克有终。&lt;br&gt;&lt;br&gt;不断努力,一步一步往前走,做最好的自己</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>